cd api

echo "ğŸ” Running linter..."
npm run lint || exit 1

echo "âœ¨ Checking code formatting..."
npm run format:check || exit 1

echo "ğŸ§ª Running unit tests..."
npm run test:unit || exit 1

echo "ğŸ”¨ Building API..."
npm run build || exit 1

cd ..

echo "ğŸ“¦ Running text-utils checks..."
pnpm --filter @rag/text-utils test || exit 1
pnpm --filter @rag/text-utils typecheck || exit 1

echo "ğŸ“¦ Typechecking packages..."
pnpm --filter @rag/api-client typecheck || exit 1
pnpm --filter @rag/types typecheck || exit 1

echo "ğŸ–¥ï¸ Typechecking frontend apps..."
pnpm --filter @rag/company-portal typecheck || exit 1
pnpm --filter @rag/landing-page typecheck || exit 1

echo "âœ… All pre-commit checks passed!"
